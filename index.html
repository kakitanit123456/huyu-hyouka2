<!doctype html>
<html lang="ja" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="mobile-web-app-capable" content="yes" />
  <title>4å¹´ç†ç§‘ è©•ä¾¡è¨˜éŒ²ãƒ„ãƒ¼ãƒ«ï¼ˆå†¬ãƒ—ãƒ­ï¼‰</title>

  <style>
    :root{
      --bg:#0b0c10; --card:#12141a; --card2:#161a22; --text:#e8eef7; --muted:#a9b3c2;
      --line:#232a36; --chip:#1c2330; --btn:#1f2a3a; --accent:#59a8ff;
      --danger:#ff6b6b;
    }
    :root[data-theme="light"]{
      --bg:#f6f7fb; --card:#ffffff; --card2:#f1f3f8; --text:#0c1220; --muted:#4b5565;
      --line:#d9e0ea; --chip:#eef2f8; --btn:#ffffff;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      font-family:-apple-system,BlinkMacSystemFont,"Hiragino Sans","Noto Sans JP",system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    }

    header{
      position:sticky; top:0; z-index:1000;
      background: color-mix(in srgb, var(--bg) 88%, transparent);
      backdrop-filter: blur(10px);
      border-bottom:1px solid var(--line);
    }
    :root[data-theme="light"] header{
      background:rgba(255,255,255,.92);
    }

    .wrap{max-width:1250px;margin:0 auto;padding:14px 14px 22px}
    .row{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
    .grid{display:grid;gap:12px}
    @media (min-width: 920px){ .grid{grid-template-columns: 360px 1fr} }

    .grow{flex:1; min-width:0}
    h1{font-size:16px;margin:0 0 6px 0;letter-spacing:.02em}
    .sub{font-size:12px;color:var(--muted)}
    .hint{font-size:12px;color:var(--muted)}
    .small{font-size:12px;color:var(--muted)}
    .hr{height:1px;background:var(--line);margin:10px 0}

    .card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:12px}
    .card.soft{background:var(--card2)}
    .sec-title{display:flex;justify-content:space-between;align-items:flex-end;gap:10px;margin-bottom:8px}
    .sec-title h2{font-size:14px;margin:0}

    .btn{
      background:var(--btn);
      border:1px solid var(--line);
      color:var(--text);
      padding:10px 12px;
      border-radius:12px;
      font-size:13px;
      cursor:pointer;
      pointer-events:auto;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    .btn:hover{border-color: color-mix(in srgb, var(--line) 40%, #ffffff 30%)}
    .btn.primary{border-color: color-mix(in srgb, var(--accent) 60%, var(--line));}
    .btn.danger{border-color: color-mix(in srgb, var(--danger) 65%, var(--line)); color: color-mix(in srgb, var(--danger) 70%, var(--text));}

    input,select,textarea{
      background:var(--card2);
      border:1px solid var(--line);
      color:var(--text);
      border-radius:10px;
      padding:10px;
      font-size:13px;
      width:100%;
      min-width:0;
    }
    textarea{min-height:84px; resize:vertical}

    /* iPadæ¨ªã§ header ãŒ â€œã‹ã¶ã•ã£ã¦ãƒœã‚¿ãƒ³ãŒæŠ¼ã›ãªã„â€ å¯¾ç­– */
    .headerBar{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:12px;
      flex-wrap:wrap;
      position:relative;
      z-index:2000;
    }
    .headerLeft{flex:1 1 auto; min-width:0}
    .headerLeft h1{overflow-wrap:anywhere}
    .headerActions{flex:0 0 auto; display:flex; gap:10px; flex-wrap:wrap; z-index:3000}
    #btnTheme{position:relative; z-index:4000; pointer-events:auto}

    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px; border:1px solid var(--line); border-radius:999px;
      background:var(--chip); color:var(--muted); font-size:12px;
    }
    .badge{
      display:inline-flex; align-items:center; justify-content:center;
      padding:2px 8px; border-radius:999px; border:1px solid var(--line);
      background:var(--chip); color:var(--muted); font-size:12px;
    }
  </style>
</head>

<body>
<header>
  <div class="wrap">
    <div class="headerBar">
      <div class="headerLeft">
        <h1>4å¹´ç†ç§‘ è©•ä¾¡è¨˜éŒ²ãƒ„ãƒ¼ãƒ«ï¼ˆå†¬ã®è‡ªç„¶æ¢ç©¶ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼‰</h1>
        <div class="sub">localStorageã®ã¿ï¼ˆã‚ªãƒ•ãƒ©ã‚¤ãƒ³ï¼‰ï¼åŒæœŸï¼šplanï¼‹statusã®ã¿ï¼ˆã‚°ãƒ«ãƒ¼ãƒ—å†…ï¼‰</div>
      </div>

      <div class="headerActions">
        <button class="btn" id="btnTheme" type="button">ğŸŒ™</button>
        <button class="btn" id="btnExport" type="button">ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
        <button class="btn" id="btnImport" type="button">ã‚¤ãƒ³ãƒãƒ¼ãƒˆ</button>
        <button class="btn danger" id="btnReset" type="button">å…¨ãƒ‡ãƒ¼ã‚¿å‰Šé™¤</button>
      </div>
    </div>
  </div>
</header>

<div class="wrap grid">
  <!-- å·¦ï¼šåç°¿ -->
  <div class="card">
    <div class="sec-title">
      <h2>åç°¿</h2>
      <span class="hint">å…ç«¥ã®è¿½åŠ ï¼å‰Šé™¤ï¼ˆPart2ã§å®Ÿè£…ï¼‰</span>
    </div>

    <div class="row">
      <select id="studentSelect" class="grow">
        <option value="(sample)">ï¼ˆã‚µãƒ³ãƒ—ãƒ«ï¼‰å…ç«¥A</option>
      </select>
      <button class="btn" id="btnDeleteStudent" type="button">å‰Šé™¤</button>
    </div>

    <div class="row">
      <input id="newStudentName" class="grow" placeholder="è¿½åŠ ã™ã‚‹å…ç«¥åï¼ˆä¾‹ï¼šå±±ç”° å¤ªéƒï¼‰" />
      <button class="btn primary" id="btnAddStudent" type="button">è¿½åŠ </button>
    </div>

    <div class="hr"></div>

    <div class="sec-title">
      <h2>ã‚°ãƒ«ãƒ¼ãƒ—è¨­å®šï¼ˆ2ãƒ»2ãƒ»3ï¼‰</h2>
      <span class="hint">G1/G2/G3ï¼‹æœªè¨­å®š</span>
    </div>

    <div class="row">
      <select id="groupSelect" class="grow">
        <option value="">ï¼ˆæœªè¨­å®šï¼‰</option>
        <option value="G1">G1ï¼ˆ2äººï¼‰</option>
        <option value="G2">G2ï¼ˆ2äººï¼‰</option>
        <option value="G3">G3ï¼ˆ3äººï¼‰</option>
      </select>
      <button class="btn" id="btnAutoGroup" type="button">è‡ªå‹•(2ãƒ»2ãƒ»3)</button>
    </div>

    <div class="small" id="groupCount" style="margin-top:6px">
      äººæ•°ï¼šG1=0 / G2=0 / G3=0ï¼ˆæœª=0ï¼‰
    </div>

    <div class="hr"></div>

    <div class="sec-title">
      <h2>åŒæœŸè¨­å®š</h2>
      <span class="hint">åŒæœŸã™ã‚‹ã®ã¯ planï¼‹status ã®ã¿</span>
    </div>

    <label class="pill" style="width:100%; justify-content:space-between">
      <span>åŒæœŸã‚’æœ‰åŠ¹ã«ã™ã‚‹</span>
      <input id="syncToggle" type="checkbox" style="width:auto" />
    </label>

    <div class="small" id="syncInfo" style="margin-top:8px">
      ä¾‹ï¼šå¯¾è±¡ã‚°ãƒ«ãƒ¼ãƒ—ï¼šG1ï¼ˆåŒæœŸå…ˆ 2äººï¼‰ï¼æœªè¨­å®šãªã‚‰åŒæœŸãªã—
    </div>
  </div>

  <!-- å³ï¼šå…¥åŠ›ã‚¨ãƒªã‚¢ -->
  <div class="card soft">
    <div class="sec-title">
      <h2>è¨˜éŒ²</h2>
      <span class="hint">æå‡ºç‰©ãƒ»ç”»åƒã¯å€‹äººï¼ˆåŒæœŸã—ãªã„ï¼‰</span>
    </div>

    <div class="card">
      <div class="row" style="justify-content:space-between;align-items:center">
        <div style="font-size:14px;font-weight:700">è¨ˆç”»ï¼ˆplanï¼‰ï¼é€²æ—ï¼ˆstatusï¼‰</div>
        <span class="badge">åŒæœŸå¯¾è±¡</span>
      </div>

      <div class="sub" style="margin-top:10px">è¨ˆç”»ï¼ˆplanï¼‰</div>
      <input id="planInput" placeholder="ä¾‹ï¼šè¦³å¯Ÿã‚«ãƒ¼ãƒ‰ã€å†™çœŸã€ç™ºè¡¨æº–å‚™ ãªã©" />

      <div class="sub" style="margin-top:10px">é€²æ—ï¼ˆstatusï¼‰</div>
      <select id="statusSelect">
        <option value="">ï¼ˆæœªè¨­å®šï¼‰</option>
        <option value="æœª">æœª</option>
        <option value="é€”ä¸­">é€”ä¸­</option>
        <option value="å®Œäº†">å®Œäº†</option>
      </select>
    </div>

    <div class="card" style="margin-top:12px">
      <div class="row" style="justify-content:space-between;align-items:center">
        <div style="font-size:14px;font-weight:700">æå‡ºç‰©ãƒ»ç”»åƒï¼ˆå€‹äººï¼‰</div>
        <span class="badge">åŒæœŸã—ãªã„</span>
      </div>

      <div class="sub" style="margin-top:10px">æå‡ºç‰©ãƒ¡ãƒ¢ï¼ˆå€‹äººï¼‰</div>
      <textarea id="noteInput" placeholder="ä¾‹ï¼šæå‡ºæ¸ˆã¿ã€å†æå‡ºã€å†™çœŸOK ãªã©ï¼ˆå€‹äººãƒ¡ãƒ¢ï¼‰"></textarea>

      <div class="sub" style="margin-top:10px">ç”»åƒï¼ˆå€‹äººãƒ»1æšï¼‰</div>
      <div class="row">
        <input id="photoInput" type="file" accept="image/*" />
        <button class="btn" id="btnClearPhoto" type="button">ç”»åƒã‚’å‰Šé™¤</button>
      </div>

      <img id="photoPreview" alt="" style="width:100%;max-height:320px;object-fit:contain;border:1px solid var(--line);border-radius:12px;display:none;margin-top:8px" />
      <div class="small" style="margin-top:8px">â€» Part2ã§ä¿å­˜ï¼ˆlocalStorageï¼‰ã‚’å®Ÿè£…ã—ã¾ã™</div>
    </div>

    <div class="card" style="margin-top:12px">
      <div style="font-size:14px;font-weight:700;margin-bottom:6px">ã“ã®æ®µéšã®ç¢ºèª</div>
      <ul style="margin:0; padding-left:18px; color:var(--muted); line-height:1.7; font-size:13px">
        <li>å³ä¸Šã®ğŸŒ™/â˜€ï¸ã§ãƒ©ã‚¤ãƒˆ/ãƒ€ãƒ¼ã‚¯ãŒåˆ‡ã‚Šæ›¿ã‚ã‚‹</li>
        <li>iPadæ¨ªã§ã‚‚å³ä¸Šãƒœã‚¿ãƒ³ãŒæŠ¼ã›ã‚‹ï¼ˆheaderãŒã‹ã¶ã‚‰ãªã„ï¼‰</li>
        <li>ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã„</li>
      </ul>
    </div>
  </div>
</div>

<script>
  // Part1: ãƒ†ãƒ¼ãƒåˆ‡æ›¿ã ã‘ï¼ˆãƒ‡ãƒ¼ã‚¿ã¯ã¾ã è§¦ã‚‰ãªã„ï¼‰
  const THEME_KEY = "rika4_theme_v3";

  function applyTheme(mode){
    document.documentElement.dataset.theme = mode;
    localStorage.setItem(THEME_KEY, mode);

    const btn = document.getElementById("btnTheme");
    if(btn){
      btn.textContent = (mode === "light") ? "â˜€ï¸" : "ğŸŒ™";
      btn.title = (mode === "light") ? "ãƒ€ãƒ¼ã‚¯ã«åˆ‡ã‚Šæ›¿ãˆ" : "ãƒ©ã‚¤ãƒˆã«åˆ‡ã‚Šæ›¿ãˆ";
    }
  }

  function toggleTheme(){
    const cur = document.documentElement.dataset.theme || "dark";
    applyTheme(cur === "dark" ? "light" : "dark");
  }

  document.addEventListener("DOMContentLoaded", ()=>{
    applyTheme(localStorage.getItem(THEME_KEY) || "dark");

    const tbtn = document.getElementById("btnTheme");
    if(tbtn) tbtn.addEventListener("click", toggleTheme);

    // Part1ã§ã¯æœªå®Ÿè£…ãƒœã‚¿ãƒ³ã®èª¤æ“ä½œé˜²æ­¢ï¼ˆæŠ¼ã—ãŸã‚‰æ¡ˆå†…ã ã‘å‡ºã™ï¼‰
    const stub = (id, msg)=>{
      const el = document.getElementById(id);
      if(el) el.addEventListener("click", ()=> alert(msg));
    };
    stub("btnExport", "Part2ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚’å®Ÿè£…ã—ã¾ã™");
    stub("btnImport", "Part2ã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’å®Ÿè£…ã—ã¾ã™");
    stub("btnReset",  "Part2ã§å…¨ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ã‚’å®Ÿè£…ã—ã¾ã™");
    stub("btnAddStudent", "Part2ã§åç°¿è¿½åŠ ã‚’å®Ÿè£…ã—ã¾ã™");
    stub("btnDeleteStudent", "Part2ã§åç°¿å‰Šé™¤ã‚’å®Ÿè£…ã—ã¾ã™");
    stub("btnAutoGroup", "Part2ã§è‡ªå‹•(2ãƒ»2ãƒ»3)å‰²ã‚Šå½“ã¦ã‚’å®Ÿè£…ã—ã¾ã™");
    stub("btnClearPhoto", "Part2ã§ç”»åƒå‰Šé™¤ã‚’å®Ÿè£…ã—ã¾ã™");
  });
</script>
</body>
</html>
